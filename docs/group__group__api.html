<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="dark-mode">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="author" content="SXS Collaboration">
    <meta name="generator" content="Doxygen 1.12.0"/>
  <title>Subprocess.f: Overview</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
  <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
  <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
  <script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
  <script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeFragmentCopyButton.init()
      DoxygenAwesomeDarkModeToggle.init()
      DoxygenAwesomeParagraphLink.init()
      DoxygenAwesomeInteractiveToc.init()
      DoxygenAwesomeTabs.init()
  </script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
  <link rel="stylesheet" href="devibeans.css">
  <script src="highlight.js"></script>
<script>
$(function() {
	hljs.configure({useBR: false});
	$(".fragment").each(function(i,node) {
		$(node).removeClass("fragment");
		hljs.highlightBlock(node);
	});
});
</script>
  </head>
  <body>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
      <tbody>
        <tr style="height: 56px;">
          <td id="projectlogo"><img alt="Logo" src="logo.png" /></td>
          <td id="projectalign" style="padding-left: 0.5em;">
            <div id="projectname">
              <a href="index.html">Subprocess.f</a>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__group__api.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Topics</a>  </div>
  <div class="headertitle"><div class="title">Overview</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Introduction</h2>
<p>Hey, glad you stumbled across <code>subprocess.f</code>! This little Fortran repo is all about making your life easier when you want to kick off external programs or commands from inside your Fortran code. It is designed to let you run a shell command, fire up a script, or juggle a bunch of processes without breaking a sweat. You can find the whole thing over at <a href="https://github.com/davidpfister/subprocess.f">https://github.com/davidpfister/subprocess.f</a>.</p>
<p>So, what’s the big deal with <code>subprocess.f</code>? Well, Fortran’s awesome for crunching numbers and doing heavy lifting in science or engineering, but sometimes you need to call out to other tools—like a script, a system utility, or whatever else you’ve got lying around.</p>
<p>Here’s the rundown of what you can do with it:</p><ul>
<li><b>Run Stuff Your Way</b>: Use <code>run</code> to fire off a command and chill until it’s done, or go with <code>runasync</code> to let it hum along in the background while you keep working.</li>
<li><b>Grab the Output</b>: Snag whatever the command prints with <code>read_stdout</code> for the good stuff or <code>read_stderr</code> for the error messages.</li>
<li><b>Boss the Process Around</b>: Check if it’s still going with <code>has_exited</code>, wait for it with <code>wait</code>, or shut it down early with <code>kill</code>. Oh, and if you’ve got a bunch of them, <code>waitall</code> has your back.</li>
<li><b>Know What’s Up</b>: Peek at exit codes to see if it worked, or check how long it took with <code>exit_time</code>. Handy for figuring out if things went south or just took their sweet time.</li>
</ul>
<p>The library’s split into two parts to keep things tidy:</p><ul>
<li><b><code>subprocess</code></b>: This is your go-to module. It’s got a <code>process</code> type that’s super easy to use—just tell it what to run and how, and you’re off to the races.</li>
<li><b><code>subprocess_handler</code></b>: This is the behind-the-scenes magic. It’s the layer that talks to the system using some C tricks, so you don’t have to mess with the low-level stuff yourself.</li>
</ul>
<p>The code’s all hanging out on GitHub, and we’d love for you to dig in, try it out, and maybe even toss us some ideas or fixes if you’re feeling generous. This documentation’s packed with all the juicy details—API breakdowns, examples you can tweak, and tips to get you rolling. So, grab a coffee, scroll through, and let’s get some processes running together!</p>
<h2><a class="anchor" id="autotoc_md0"></a>
End-User Manual</h2>
<p>Welcome to the <code>subprocess</code> module! This tool lets you run external commands (like programs or scripts) from your Fortran program, manage them, and capture their output. It’s designed to be flexible and easy to use, whether you’re running a command and waiting for it to finish or launching something in the background while your program keeps going.</p>
<p>This manual explains how to use the module in simple terms, with examples you can try out. We’ll assume you have a basic Fortran setup and can compile code that uses this module.</p>
<h3><a class="anchor" id="autotoc_md1"></a>
What You Can Do with This Module</h3>
<ul>
<li><b>Run commands</b>: Execute any command or program, like <code>ls</code> on Linux or <code>dir</code> on Windows, with or without arguments.</li>
<li><b>Wait or don’t wait</b>: Run a command and wait for it to finish (synchronous), or let it run in the background (asynchronous).</li>
<li><b>Capture output</b>: Read what the command prints to the screen (stdout) or its error messages (stderr).</li>
<li><b>Control processes</b>: Check if a command is still running, wait for it to finish, or stop it early.</li>
<li><b>Pass input</b>: Send data to a command’s input (stdin), if it expects it.</li>
</ul>
<p>The main tool you’ll use is the <code>process</code> type, which acts like a container for a command you want to run. You create a <code>process</code>, tell it what to do, and then use its features to manage it.</p>
<h3><a class="anchor" id="autotoc_md2"></a>
Getting Started</h3>
<p>To use this module, include it in your Fortran program:</p>
<div class="fragment"><div class="line"><span class="keywordtype">use </span>subprocess</div>
<div class="line"><span class="keywordtype">implicit none</span></div>
</div><!-- fragment --><p>You’ll also need to link against the <code>subprocess_handler</code> library when compiling, but that’s a detail for your compiler setup. For now, let’s focus on the code.</p>
<h3><a class="anchor" id="autotoc_md3"></a>
Key Features of the <code>process</code> Type</h3>
<p>When you create a <code>process</code>, it has some properties and actions (methods) you can use:</p>
<ul>
<li><b>Properties</b>:<ul>
<li><code>pid</code>: The process ID (a number) assigned to the running command.</li>
<li><code>filename</code>: The name of the command or program you’re running (e.g., <code>"notepad.exe"</code> or <code>"ls"</code>).</li>
<li>(Other internal details like exit codes and timing are handled automatically.)</li>
</ul>
</li>
<li><b>Actions</b>:<ul>
<li><code>run</code>: Starts the command and waits for it to finish.</li>
<li><code>runasync</code>: Starts the command and lets it run in the background.</li>
<li><code>read_stdout</code>: Gets the command’s output.</li>
<li><code>read_stderr</code>: Gets the command’s error messages.</li>
<li><code>wait</code>: Waits for a background command to finish.</li>
<li><code>kill</code>: Stops a running command.</li>
<li><code>exit_code</code>: Tells you how the command ended (e.g., 0 means success).</li>
<li><code>exit_time</code>: Shows how long the command ran (in milliseconds).</li>
<li><code>has_exited</code>: Checks if the command is done.</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md4"></a>
Examples</h3>
<p>Let’s walk through some common tasks with examples. These assume you’re on a system where the commands work (e.g., Windows for <code>dir</code>, Linux/macOS for <code>ls</code>). Adjust the commands to match your system.</p>
<h4><a class="anchor" id="autotoc_md5"></a>
1. Running a Command and Waiting for It to Finish</h4>
<p>Suppose you want to list files in a directory. On Windows, you’d use <code>dir</code>; on Linux, <code>ls</code>. Here’s how to run <code>dir</code> and wait for it to finish:</p>
<div class="fragment"><div class="line"><span class="keyword">program</span> simple_run</div>
<div class="line">    <span class="keywordtype">use </span>subprocess</div>
<div class="line">    <span class="keywordtype">implicit none</span></div>
<div class="line">    <span class="keywordtype">type</span>(process) :: proc</div>
<div class="line"> </div>
<div class="line">    <span class="comment">! Create a process for the &quot;dir&quot; command</span></div>
<div class="line">    proc = <a class="code hl_class" href="structsubprocess_1_1process.html">process</a>(<span class="stringliteral">&quot;dir&quot;</span>)</div>
<div class="line"> </div>
<div class="line">    <span class="comment">! Run it and wait</span></div>
<div class="line">    <span class="keyword">call </span>proc%run()</div>
<div class="line"> </div>
<div class="line">    print *, <span class="stringliteral">&quot;Command finished!&quot;</span></div>
<div class="line"><span class="keyword">end program</span></div>
<div class="ttc" id="astructsubprocess_1_1process_html"><div class="ttname"><a href="structsubprocess_1_1process.html">subprocess::process</a></div><div class="ttdoc">A derived type representing a subprocess with associated properties and methods. This type encapsulat...</div><div class="ttdef"><b>Definition</b> <a href="subprocess_8f90_source.html#l00145">subprocess.f90:145</a></div></div>
</div><!-- fragment --><ul>
<li><b>What happens</b>: The program runs <code>dir</code>, waits until it’s done, and then prints "Command finished!"</li>
<li><b>Note</b>: You won’t see the output of <code>dir</code> yet—we’ll cover that later.</li>
</ul>
<p>You can also add arguments. Here’s how to run <code>echo</code> with a message:</p>
<div class="fragment"><div class="line"><span class="keyword">program</span> run_with_args</div>
<div class="line">    <span class="keywordtype">use </span>subprocess</div>
<div class="line">    <span class="keywordtype">implicit none</span></div>
<div class="line">    <span class="keywordtype">type</span>(process) :: proc</div>
<div class="line"> </div>
<div class="line">    proc = <a class="code hl_class" href="structsubprocess_1_1process.html">process</a>(<span class="stringliteral">&quot;echo&quot;</span>)</div>
<div class="line">    <span class="keyword">call </span>proc%run(<span class="stringliteral">&quot;Hello, world!&quot;</span>)</div>
<div class="line"> </div>
<div class="line">    print *, <span class="stringliteral">&quot;Echo done!&quot;</span></div>
<div class="line"><span class="keyword">end program</span></div>
</div><!-- fragment --><ul>
<li><b>What happens</b>: It runs <code>echo Hello, world!</code> and waits for it to finish.</li>
</ul>
<p>You can add up to five arguments directly (e.g., <code>call procrun("arg1", "arg2", "arg3")</code>), or use an array for more flexibility (see the advanced example later).</p>
<h4><a class="anchor" id="autotoc_md6"></a>
2. Running a Command in the Background</h4>
<p>If you don’t want to wait, use <code>runasync</code>. Here’s how to start <code>notepad</code> (on Windows) and keep going:</p>
<div class="fragment"><div class="line"><span class="keyword">program</span> async_run</div>
<div class="line">    <span class="keywordtype">use </span>subprocess</div>
<div class="line">    <span class="keywordtype">implicit none</span></div>
<div class="line">    <span class="keywordtype">type</span>(process) :: proc</div>
<div class="line"> </div>
<div class="line">    proc = <a class="code hl_class" href="structsubprocess_1_1process.html">process</a>(<span class="stringliteral">&quot;notepad.exe&quot;</span>)</div>
<div class="line">    <span class="keyword">call </span>proc%runasync()</div>
<div class="line"> </div>
<div class="line">    print *, <span class="stringliteral">&quot;Notepad is running in the background!&quot;</span></div>
<div class="line">    print *, <span class="stringliteral">&quot;Process ID:&quot;</span>, proc%pid</div>
<div class="line"> </div>
<div class="line">    <span class="comment">! Wait a bit (optional, for demo)</span></div>
<div class="line">    <span class="keyword">call </span>sleep(2)</div>
<div class="line"> </div>
<div class="line">    <span class="comment">! Check if it’s still running</span></div>
<div class="line">    <span class="keywordflow">if</span> (proc%has_exited()) <span class="keywordflow">then</span></div>
<div class="line">        print *, <span class="stringliteral">&quot;Notepad already closed.&quot;</span></div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        print *, <span class="stringliteral">&quot;Notepad is still open.&quot;</span></div>
<div class="line"><span class="keywordflow">    end if</span></div>
<div class="line"><span class="keyword">end program</span></div>
</div><!-- fragment --><ul>
<li><b>What happens</b>: Notepad opens, and your program keeps running. It prints the process ID and checks if Notepad is still open after 2 seconds.</li>
<li><b>Note</b>: <code>sleep</code> isn’t part of this module—you’d need a custom delay or skip that part.</li>
</ul>
<h4><a class="anchor" id="autotoc_md7"></a>
3. Capturing Output</h4>
<p>To see what a command prints, use <code>read_stdout</code>. Here’s how to run <code>dir</code> and print its output:</p>
<div class="fragment"><div class="line"><span class="keyword">program</span> capture_output</div>
<div class="line">    <span class="keywordtype">use </span>subprocess</div>
<div class="line">    <span class="keywordtype">implicit none</span></div>
<div class="line">    <span class="keywordtype">type</span>(process) :: proc</div>
<div class="line">    <span class="keywordtype">character(:)</span>, <span class="keywordtype">allocatable</span> :: output</div>
<div class="line"> </div>
<div class="line">    proc = <a class="code hl_class" href="structsubprocess_1_1process.html">process</a>(<span class="stringliteral">&quot;dir&quot;</span>)</div>
<div class="line">    <span class="keyword">call </span>proc%run()</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">call </span>proc%read_stdout(output)</div>
<div class="line">    print *, <span class="stringliteral">&quot;Output from dir:&quot;</span></div>
<div class="line">    print *, output</div>
<div class="line"><span class="keyword">end program</span></div>
</div><!-- fragment --><ul>
<li><b>What happens</b>: It runs <code>dir</code>, waits for it to finish, and then prints whatever <code>dir</code> outputted.</li>
<li><b>For errors</b>: Use <code>read_stderr</code> the same way to catch error messages.</li>
</ul>
<h4><a class="anchor" id="autotoc_md8"></a>
4. Stopping a Command Early</h4>
<p>If a command is running and you want to stop it, use <code>kill</code>. Here’s an example with a long-running command (like <code>ping</code> on Windows):</p>
<div class="fragment"><div class="line"><span class="keyword">program</span> kill_process</div>
<div class="line">    <span class="keywordtype">use </span>subprocess</div>
<div class="line">    <span class="keywordtype">implicit none</span></div>
<div class="line">    <span class="keywordtype">type</span>(process) :: proc</div>
<div class="line"> </div>
<div class="line">    proc = <a class="code hl_class" href="structsubprocess_1_1process.html">process</a>(<span class="stringliteral">&quot;ping&quot;</span>)</div>
<div class="line">    <span class="keyword">call </span>proc%runasync(<span class="stringliteral">&quot;localhost&quot;</span>)  <span class="comment">! Start pinging in the background</span></div>
<div class="line"> </div>
<div class="line">    print *, <span class="stringliteral">&quot;Pinging started. Waiting 3 seconds...&quot;</span></div>
<div class="line">    <span class="keyword">call </span>sleep(3)</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (.not. proc%has_exited()) <span class="keywordflow">then</span></div>
<div class="line">        <span class="keyword">call </span>proc%kill()</div>
<div class="line">        print *, <span class="stringliteral">&quot;Ping stopped!&quot;</span></div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        print *, <span class="stringliteral">&quot;Ping already finished.&quot;</span></div>
<div class="line"><span class="keywordflow">    end if</span></div>
<div class="line"><span class="keyword">end program</span></div>
</div><!-- fragment --><ul>
<li><b>What happens</b>: It starts <code>ping localhost</code>, waits 3 seconds, and then stops it if it’s still running.</li>
</ul>
<h4><a class="anchor" id="autotoc_md9"></a>
5. Waiting for Multiple Commands</h4>
<p>If you’re running several commands in the background, use <code>waitall</code> to wait for all of them. Here’s an example:</p>
<div class="fragment"><div class="line"><span class="keyword">program</span> wait_all</div>
<div class="line">    <span class="keywordtype">use </span>subprocess</div>
<div class="line">    <span class="keywordtype">implicit none</span></div>
<div class="line">    <span class="keywordtype">type</span>(process) :: procs(2)</div>
<div class="line"> </div>
<div class="line">    procs(1) = <a class="code hl_class" href="structsubprocess_1_1process.html">process</a>(<span class="stringliteral">&quot;echo&quot;</span>)</div>
<div class="line">    procs(2) = <a class="code hl_class" href="structsubprocess_1_1process.html">process</a>(<span class="stringliteral">&quot;echo&quot;</span>)</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">call </span>procs(1)%runasync(<span class="stringliteral">&quot;First message&quot;</span>)</div>
<div class="line">    <span class="keyword">call </span>procs(2)%runasync(<span class="stringliteral">&quot;Second message&quot;</span>)</div>
<div class="line"> </div>
<div class="line">    print *, <span class="stringliteral">&quot;Both echoes started. Waiting for them to finish...&quot;</span></div>
<div class="line">    <span class="keyword">call </span><a class="code hl_interface" href="interfacesubprocess_1_1waitall.html">waitall</a>(procs)</div>
<div class="line"> </div>
<div class="line">    print *, <span class="stringliteral">&quot;All done!&quot;</span></div>
<div class="line">    <span class="comment">!</span></div>
<div class="line"><span class="keyword">end program</span></div>
<div class="ttc" id="ainterfacesubprocess_1_1waitall_html"><div class="ttname"><a href="interfacesubprocess_1_1waitall.html">subprocess::waitall</a></div><div class="ttdoc">Waits for all processes in an array to complete.</div><div class="ttdef"><b>Definition</b> <a href="subprocess_8f90_source.html#l00390">subprocess.f90:390</a></div></div>
</div><!-- fragment --><ul>
<li><b>What happens</b>: Two <code>echo</code> commands run in the background, and the program waits until both finish.</li>
</ul>
<h4><a class="anchor" id="autotoc_md10"></a>
6. Checking Results</h4>
<p>After a command finishes, you can check its exit code (0 usually means success) and how long it took:</p>
<div class="fragment"><div class="line"><span class="keyword">program</span> check_results</div>
<div class="line">    <span class="keywordtype">use </span>subprocess</div>
<div class="line">    <span class="keywordtype">implicit none</span></div>
<div class="line">    <span class="keywordtype">type</span>(process) :: proc</div>
<div class="line">    <span class="keywordtype">integer</span> :: code</div>
<div class="line"><span class="keywordtype">    real</span>(8) :: time_taken</div>
<div class="line"> </div>
<div class="line">    proc = <a class="code hl_class" href="structsubprocess_1_1process.html">process</a>(<span class="stringliteral">&quot;echo&quot;</span>)</div>
<div class="line">    <span class="keyword">call </span>proc%run(<span class="stringliteral">&quot;Test&quot;</span>)</div>
<div class="line"> </div>
<div class="line">    code = proc%exit_code()</div>
<div class="line">    time_taken = proc%exit_time()</div>
<div class="line"> </div>
<div class="line">    print *, <span class="stringliteral">&quot;Exit code:&quot;</span>, code</div>
<div class="line">    print *, <span class="stringliteral">&quot;Time taken (ms):&quot;</span>, time_taken</div>
<div class="line"><span class="keyword">end program</span></div>
</div><!-- fragment --><ul>
<li><b>What happens</b>: It runs <code>echo Test</code>, then shows the exit code and runtime in milliseconds.</li>
</ul>
<h3><a class="anchor" id="autotoc_md11"></a>
Tips for Using the Module</h3>
<ul>
<li><b>Command Names</b>: Use the full path (e.g., <code>"C:\Windows\notepad.exe"</code>) if the command isn’t in your system’s PATH.</li>
<li><b>Arguments</b>: For commands with spaces or special characters, test carefully—some systems might need quotes.</li>
<li><b>Background Commands</b>: If you use <code>runasync</code>, remember to check <code>has_exited()</code> or call <code>wait()</code> if you need to sync up later.</li>
<li><b>Output</b>: <code>read_stdout</code> and <code>read_stderr</code> only work after the command finishes with <code>run</code>, or you’ll need to manage timing with <code>runasync</code>.</li>
<li><b>Cleanup</b>: The module handles cleanup automatically when a <code>process</code> goes out of scope, but <code>kill()</code> ensures a command stops if needed.</li>
</ul>
<h3><a class="anchor" id="autotoc_md12"></a>
Advanced Example: Running a Script with Arguments</h3>
<p>Here’s a more complex example running a hypothetical Python script with multiple arguments:</p>
<div class="fragment"><div class="line"><span class="keyword">program</span> advanced_run</div>
<div class="line">    <span class="keywordtype">use </span>subprocess</div>
<div class="line">    <span class="keywordtype">implicit none</span></div>
<div class="line">    <span class="keywordtype">type</span>(process) :: proc</div>
<div class="line">    <span class="keywordtype">type</span>(string) :: args(3)</div>
<div class="line">    <span class="keywordtype">character(:)</span>, <span class="keywordtype">allocatable</span> :: output</div>
<div class="line"> </div>
<div class="line">    <span class="comment">! Set up the process and arguments</span></div>
<div class="line">    proc = <a class="code hl_class" href="structsubprocess_1_1process.html">process</a>(<span class="stringliteral">&quot;python&quot;</span>)</div>
<div class="line">    args(1) = <span class="stringliteral">&quot;myscript.py&quot;</span></div>
<div class="line">    args(2) = <span class="stringliteral">&quot;--input&quot;</span></div>
<div class="line">    args(3) = <span class="stringliteral">&quot;data.txt&quot;</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">! Run with an array of arguments</span></div>
<div class="line">    <span class="keyword">call </span>proc%run(args)</div>
<div class="line"> </div>
<div class="line">    <span class="comment">! Get the output</span></div>
<div class="line">    <span class="keyword">call </span>proc%read_stdout(output)</div>
<div class="line">    print *, <span class="stringliteral">&quot;Script output:&quot;</span></div>
<div class="line">    print *, output</div>
<div class="line"> </div>
<div class="line">    <span class="comment">! Check results</span></div>
<div class="line">    print *, <span class="stringliteral">&quot;Exit code:&quot;</span>, proc%exit_code()</div>
<div class="line">    print *, <span class="stringliteral">&quot;Time (ms):&quot;</span>, proc%exit_time()</div>
<div class="line"><span class="keyword">end program</span></div>
</div><!-- fragment --><ul>
<li><b>What happens</b>: It runs <code>python myscript.py --input data.txt</code>, captures the output, and shows the results.</li>
<li><b>Note</b>: The <code>string</code> type is used here for argument arrays—set <code>chars</code> directly as shown.</li>
</ul>
<h3><a class="anchor" id="autotoc_md13"></a>
Troubleshooting</h3>
<ul>
<li><b>Command not found</b>: Check the <code>filename</code> and ensure it’s correct for your system.</li>
<li><b>No output</b>: Make sure you call <code>read_stdout</code> or <code>read_stderr</code> after the command finishes.</li>
<li><b>Process won’t stop</b>: Use <code>kill()</code> and check <code>has_exited()</code> to confirm it worked.</li>
<li><b>Errors</b>: Look at <code>exit_code()</code>—non-zero values mean something went wrong (specific meanings depend on the command).</li>
</ul>
<h3><a class="anchor" id="autotoc_md14"></a>
Wrapping Up</h3>
<p>The <code>subprocess</code> module makes it easy to run and manage external commands from Fortran. Start with simple <code>run</code> calls, then explore <code>runasync</code> and output capturing as needed. Play with the examples, tweak them for your system, and you’ll be controlling processes like a pro!</p>
<p>For more details, check the API documentation (if you have it)—it lists every method and property in technical terms. Happy coding! </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Topics</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__subprocess__handler.html">Handler</a></td></tr>
<tr class="memdesc:group__group__subprocess__handler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides the binding and wrapper functions to the processlib C library. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__subprocess__sleep.html">Sleep</a></td></tr>
<tr class="memdesc:group__group__subprocess__sleep"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sleep module <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__subprocess__string.html">String</a></td></tr>
<tr class="memdesc:group__group__subprocess__string"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structsubprocess__string_1_1string.html">String </a> module <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__subprocess.html">Subprocess</a></td></tr>
<tr class="memdesc:group__group__subprocess"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structsubprocess_1_1process.html">Subprocess </a> module <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
    &copy; Copyright 2017 - 2024
    <a href="LICENSE.txt" target="_blank">
    <span class="hidden-xs">Distributed under the</span>
    MIT License</a>
  </ul>
</div>
</body>
</html>
